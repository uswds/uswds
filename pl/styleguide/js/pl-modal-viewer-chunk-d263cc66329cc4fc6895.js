(window.webpackJsonp=window.webpackJsonp||[]).push([["pl-modal-viewer"],{140:function(e,t,n){"use strict";var a=n(78);new(n.n(a).a)(".pl-js-code-copy-btn").on("success",(function(e){for(var t=document.querySelectorAll(".pl-js-code-copy-btn"),n=0;n<t.length;n++)t[n].querySelector(".pl-c-code-copy-btn__icon-text").innerText="Copy";e.trigger.classList.add("is-copied"),e.trigger.querySelector(".pl-c-code-copy-btn__icon-text").textContent="Copied",setTimeout((function(){e.trigger.classList.remove("is-copied"),e.trigger.querySelector(".pl-c-code-copy-btn__icon-text").textContent="Copy",e.clearSelection(),e.trigger.blur()}),2e3)}))},293:function(e,t,n){"use strict";n.r(t);var a,i,r,o=n(265),l=n(2),s=n(266),c=n.n(s),p=n(269),d=n.n(p),u=n(270),m=n.n(u),f=n(5),g=n(109),h=n(278),v=n.n(h),w=(n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),v.a),y={panels:[],count:function(){return this.panels.length},get:function(){return JSON.parse(JSON.stringify(y.panels))},add:function(e){for(var t=0;t<this.panels.length;++t)if(e.id===this.panels[t].id)return;this.panels.push(e)},remove:function(e){for(var t=this.panels,n=t.length-1;n>=0;n--)if(t[n].id===e){var a=t[n];return t.splice(n,1),void(a.default&&t.length&&(t[0].default=!0))}}};l.a.trigger("setupPanels"),a=void 0!==window.config.outputFileSuffixes&&void 0!==window.config.outputFileSuffixes.rawTemplate?window.config.outputFileSuffixes.rawTemplate:"",i=void 0!==window.config.outputFileSuffixes&&void 0!==window.config.outputFileSuffixes.markupOnly?window.config.outputFileSuffixes.markupOnly:".markup-only",r=Object.keys(w.languages),y.add({id:"pl-panel-pattern",name:window.config.patternExtension.toUpperCase(),default:!window.config.defaultPatternInfoPanelCode||window.config.defaultPatternInfoPanelCode===window.config.patternExtension,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:a,httpRequestCompleted:!1,prismHighlight:!0,language:r[window.config.patternExtension],keyCombo:"ctrl+shift+u"}),y.add({id:"pl-panel-html",name:"HTML",default:!1,templateID:"pl-panel-template-code",httpRequest:!0,httpRequestReplace:i+".html",httpRequestCompleted:!1,prismHighlight:!0,language:"markup",keyCombo:"ctrl+shift+y"}),window.patternlab||(window.patternlab={}),window.patternlab.panels=y;var b=n(77);n(140);function E(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n                  <pre\n                    class="language-markup"\n                  ><code id="pl-code-fill-','" class="language-','">',"</code></pre>\n                "]);return E=function(){return e},e}var S=new d.a({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"break-lines":100,indent:2,"remove-initial-line-feed":!0,"tabs-to-spaces":2,"spaces-to-tabs":2}),q={targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,initCopy:!1,initMoveTo:0,checkPanels:function(e,t,n,a){for(var i=0,r=0;r<e.length;++r)void 0!==e[r].content&&i++;i===y.count()&&q.renderPanels(e,t,n,a)},gatherPanels:function(e,t,n){var a,i,r;l.a.addListener("checkPanels",q.checkPanels);for(var o=y.get(),s=0;s<o.length;++s){var p=o[s];if(void 0===p.name&&(p.name=e.patternEngineName||e.patternExtension,p.language=e.patternExtension),void 0===p.httpRequestReplace&&(p.httpRequestReplace=""),""===p.httpRequestReplace&&(p.httpRequestReplace=p.httpRequestReplace+"."+e.patternExtension),void 0!==p.templateID&&p.templateID)if(void 0!==p.httpRequest&&p.httpRequest){var d=l.h.getFileName(e.patternPartial,!1),u=new XMLHttpRequest;u.onload=function(e,a,i,o){return function(){var o=this.responseText;o.startsWith("<!DOCTYPE html>")&&(o=""),r="HTML"===a[e].name?m()(o,{ocd:!0}):o;var s=w.highlight(r,w.languages[a[e].name.toLowerCase()]||w.languages.markup),c=function(e,t){return Object(f.f)(E(),t,t,Object(g.a)(e))},p=document.createDocumentFragment(),d=document.createDocumentFragment();Object(f.g)(c(s,"html"),p),Object(f.g)(c(r,"html"),d),p.children?a[e].content=p.children[0].outerHTML:d.children?a[e].content=d.children[0].outerHTML:a[e].content='<pre class="language-markup"><code id="pl-code-fill-html" class="language-html">'+r.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</code></pre>",l.a.trigger("checkPanels",[a,i,t,n])}}(s,o,e),u.open("GET",d+p.httpRequestReplace+"?"+(new Date).getTime(),!0),u.send()}else{a=document.getElementById(p.templateID),i=c.a.compile(a.innerHTML).render(e);var h=S.normalize(i);h.replace(/[\r\n]+/g,"\n\n");var v=w.highlight(h,w.languages.html);o[s].content=v,l.a.trigger("checkPanels",[o,e,t,n])}}},renderPanels:function(e,t,n,a){var i,r,o,s,p=t,d=p.patternPartial;p.panels=e,n||0!==p.patternDesc.length||(p.patternDesc=""),p.patternNameCaps=p.patternName.toUpperCase();var u=document.createElement("div");u.innerHTML=p.patternMarkup,o=1,p.annotations=[],delete p.patternMarkup;for(var m=0;m<window.comments.comments.length;++m)s=window.comments.comments[m],u.querySelectorAll(s.el).length>0&&(r={displayNumber:o,el:s.el,title:s.title,comment:s.comment},p.annotations.push(r),o++);if(p.annotations.length>0){var f=JSON.stringify({event:"patternLab.annotationsHighlightShow",annotations:p.annotations});document.querySelector(".pl-js-iframe").contentWindow.postMessage(f,q.targetOrigin)}if(p.lineage.length>0)for(var g=0;g<p.lineage.length;++g)g<p.lineage.length-1&&(p.lineage[g].hasComma=!0);if(p.lineageR.length>0)for(var h=0;h<p.lineageR.length;++h)h<p.lineageR.length-1&&(p.lineageR[h].hasComma=!0);p.patternDescExists=p.patternDesc.length>0||void 0!==p.patternDescAdditions&&p.patternDescAdditions.length>0,p.lineageExists=0!==p.lineage.length,p.lineageRExists=0!==p.lineageR.length,p.patternStateExists=p.patternState.length>0,p.annotationExists=p.annotations.length>0,p.descBlockExists=p.patternDescExists||p.lineageExists||p.lineageRExists||p.patternStateExists||p.annotationExists,p.isPatternView=!1===n;var v=document.querySelector(".pl-js-panel-template-base");i=c.a.compile(v.innerHTML).render(p);var w=document.createElement("div");w.className="pl-c-pattern-info",w.innerHTML=i,i=w,i=b.a.addClickEvents(i,d);for(var y=0;y<e.length;++y){var E=e[y],S="#pl-"+d+"-"+E.id+"-tab",C="#pl-"+d+"-"+E.id+"-panel";null!==i.querySelector(S)&&E.default&&(i.querySelector(S).classList.add("pl-is-active-tab"),i.querySelector(C).classList.add("pl-is-active-tab"))}l.a.trigger("insertPanels",[i,d,n,a])}},C=n(1),O=n(8);n.d(t,"modalViewer",(function(){return k}));var k={delayCheckingModalViewer:!1,iframeElement:document.querySelector(".pl-js-iframe"),iframeCustomElement:document.querySelector("pl-iframe"),active:!1,switchText:!0,template:"info",patternData:{},targetOrigin:"file:"===window.location.protocol?"*":window.location.protocol+"//"+window.location.host,onReady:function(){window.addEventListener("message",k.receiveIframeMessage,!1),l.a.addListener("insertPanels",k.insert),k.__storeUnsubscribe=C.a.subscribe((function(){return k._stateChanged(C.a.getState())})),k._stateChanged(C.a.getState());var e=l.h.getRequestVars();void 0===e.view||"code"!==e.view&&"c"!==e.view&&"annotations"!==e.view&&"a"!==e.view||C.a.dispatch(Object(O.p)(!0))},toggle:function(){k.active?C.a.dispatch(Object(O.p)(!1)):C.a.dispatch(Object(O.p)(!0))},open:function(){if(k.queryPattern(),k.patternData&&k.patternData.annotations&&k.patternData.annotations.length>0){var e=JSON.stringify({event:"patternLab.annotationsHighlightShow",annotations:k.patternData.annotations});k.iframeElement.contentWindow?k.iframeElement.contentWindow.postMessage(e,k.targetOrigin):(k.iframeElement=document.querySelector(".pl-js-iframe"),k.iframeElement.contentWindow?k.open():console.log("modelViewer open cannot find the iframeElement..."))}},close:function(){var e=JSON.stringify({event:"patternLab.patternModalClose"});if(k.iframeElement)if(k.iframeElement.contentWindow){k.iframeElement.contentWindow.postMessage(e,k.targetOrigin);var t=JSON.stringify({event:"patternLab.annotationsHighlightHide"});k.iframeElement.contentWindow.postMessage(t,k.targetOrigin)}else k.iframeElement=document.querySelector(".pl-js-iframe"),k.iframeElement.contentWindow?k.close():console.log("modelViewer close cannot find the iframeElement...")},insert:function(e,t,n,a){if(n){var i=JSON.stringify({event:"patternLab.patternModalInsert",patternPartial:t,modalContent:e.outerHTML});k.iframeElement.contentWindow?k.iframeElement.contentWindow.postMessage(i,k.targetOrigin):(k.iframeElement=document.querySelector(".pl-js-iframe"),k.iframeElement.contentWindow?k.insert(e,t,n):console.log("modelViewer insert cannot find the iframeElement..."))}else{var r=document.querySelector(".pl-js-drawer-content");if(null!==r.firstChild)for(;null!==r.firstChild;)r.removeChild(r.firstChild);r.appendChild(e),k.addClickEvents(r)}},addClickEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.querySelectorAll(".pl-js-lineage-link").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.getAttribute("data-patternpartial");t&&k.iframeCustomElement&&(e.preventDefault(),k.iframeCustomElement.navigateTo(t))}))}))},refresh:function(e,t,n){k.patternData=e,q.gatherPanels(e,t,n)},slide:function(e){k.toggle()},slideToAnnotation:function(e){for(var t=document.querySelectorAll(".pl-js-annotations li"),n=0;n<t.length;++n)t[n].classList.remove("pl-is-active");for(var a=document.querySelector(".pl-js-pattern-info"),i=0;i<t.length;++i)i+1===e&&(t[i].classList.add("pl-is-active"),Object(o.a)(a,document.body,{top:t[i].offsetTop-14,behavior:"smooth"}).then((function(){})))},queryPattern:function(e){var t=JSON.stringify({event:"patternLab.patternQuery",switchText:e});k.iframeElement?k.iframeElement.contentWindow?k.iframeElement.contentWindow.postMessage(t,k.targetOrigin):(k.iframeElement=document.querySelector(".pl-js-iframe"),k.iframeElement.contentWindow?k.queryPattern(e):console.log("queryPattern cannot find the iframeElement...")):(k.iframeElement=document.querySelector(".pl-js-iframe"),k.iframeElement.contentWindow&&k.iframeElement.contentWindow.postMessage(t,k.targetOrigin))},receiveIframeMessage:function(e){var t=Object(l.c)(e);void 0!==t.event&&"patternLab.pageLoad"===t.event?(k.delayCheckingModalViewer&&k._handleInitialModalViewerState(),0===t.patternpartial.indexOf("viewall-")||0===t.patternpartial.indexOf("all")?C.a.dispatch(Object(O.k)(!0)):C.a.dispatch(Object(O.k)(!1)),!1===k.active&&void 0!==t.patternpartial&&0===t.patternpartial.indexOf("viewall-")&&void 0!==window.config.defaultShowPatternInfo&&window.config.defaultShowPatternInfo?k.queryPattern(!1):!0===k.active&&k.queryPattern()):void 0!==t.event&&"patternLab.patternQueryInfo"===t.event?k.panelRendered&&k.previouslyRenderedPattern===t.patternData.patternPartial||k.refresh(t.patternData,t.iframePassback,t.switchText):void 0!==t.event&&"patternLab.annotationNumberClicked"===t.event&&k.slideToAnnotation(t.displayNumber)},_handleInitialModalViewerState:function(){k.iframeElement||(k.iframeElement=document.querySelector(".pl-js-iframe")),k.iframeElement?(k.delayCheckingModalViewer=!1,k.active?k.open():k.close()):k.delayCheckingModalViewer=!0},_stateChanged:function(e){k.active!==e.app.drawerOpened&&(k.active=e.app.drawerOpened,k.iframeElement&&k._handleInitialModalViewerState())}};k.onReady()},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={addClickEvents:function(e,t){for(var n=e.querySelectorAll(".pl-js-tab-link"),i=0;i<n.length;++i)n[i].onclick=function(e){e.preventDefault();var t=this.getAttribute("data-patternpartial"),n=this.getAttribute("data-panelid");a.show(t,n)};return e},show:function(e,t){for(var n=document.querySelector("#pl-".concat(e,"-").concat(t,"-panel")),a=n.closest(".pl-js-tabs"),i=a.querySelectorAll(".pl-js-tab-link"),r=a.querySelectorAll(".pl-js-tab-panel"),o=a.querySelector("#pl-".concat(e,"-").concat(t,"-tab")),l=0;l<i.length;++l)i[l].classList.remove("pl-is-active-tab");for(var s=0;s<r.length;++s)r[s].classList.remove("pl-is-active-tab");o.classList.add("pl-is-active-tab"),n.classList.add("pl-is-active-tab")}}}}]);